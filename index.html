<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>MVP Memorial Descritivo</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    label, select, button { display: block; margin: 10px 0; width: 100%; }
    #resultado { margin-top: 20px; padding: 10px; border: 1px solid #ccc; }
  </style>
</head>
<body>

  <h1>Memorial Descritivo de Obra</h1>

  <form id="questionario">
    <label>Tipo de alvenaria:</label>
    <select name="alvenaria">
      <option>Tijolo cerâmico</option>
      <option>Bloco de concreto</option>
      <option>Alvenaria estrutural</option>
    </select>

    <label>Espessura da parede:</label>
    <select name="espessura">
      <option>10cm</option>
      <option>15cm</option>
      <option>20cm</option>
    </select>

    <label>Tipo de cobertura:</label>
    <select name="cobertura">
      <option>Telha cerâmica</option>
      <option>Telha metálica</option>
      <option>Laje impermeabilizada</option>
    </select>

    <button type="submit">Gerar memorial</button>
  </form>

  <div id="resultado"></div>

  <script>
    const form = document.getElementById('questionario');
    const resultado = document.getElementById('resultado');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const alvenaria = form.alvenaria.value;
      const espessura = form.espessura.value;
      const cobertura = form.cobertura.value;

      const prompt = `Crie um memorial descritivo de arquitetura com alvenaria de ${alvenaria}, paredes de ${espessura}, cobertura com ${cobertura}. Responda apenas com o texto do memorial, sem introduções.`

      resultado.innerHTML = "Gerando memorial... aguarde.";

      const response = await fetch('https://www.chatbase.co/api/v1/chat', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer 2pdosgzqdbl08cxxbknq1wzst5p9k510'
        },
        body: JSON.stringify({
          "messages": [{"role": "user", "content": prompt}],
          "chatbotId": "4_rFhGbyCau8lk1L0JOJr"
        })
      });

      const data = await response.json();

      if (data.text) {
        resultado.innerHTML = `<strong>Memorial Gerado:</strong><br><br>${data.text}`;
      } else {
        resultado.innerHTML = "Ocorreu um erro ao gerar o memorial.";
      }
    });
  </script>

</body>
</html>
